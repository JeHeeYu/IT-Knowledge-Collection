# 트랜잭션(Transaction)



## 트랜잭션 개념
**인가받지 않은 사용자로부터 데이터를 보장**하기 위해 DBMS가 가져야 하는 특성이자, 데이터베이스 시스템에서 **하나의 논리적 기능을 정상적으로 수행하기 위한 작업**의 기본 단위

<br>

## 트랜잭션 특성
- **원자성(Atomicity)**
  - 트랜잭션을 구성하는 **연산 전체가 모두 정상적으로 실행되거나 모두 취소되어야 하는** 성질
  - 트랜잭션의 **연산 전체가 성공 또는 실패**(All or Nothing)되어야 하는 성질
  - **주요 기법**
    - Commit/Rollback
    - 회복성 보장
- **일관성(Consistency)**
  - 시스템이 가지고 있는 고정요소는 **트랜잭션 수행 전과 트랜잭션 수행 완료 후의 상태가 같아야 하는** 성질
  - **주요 기법**
    - 무결성 제어 조건
    - 동시성 제어
- **격리성=고립성(Isolation)**
  - 동시에 실행되는 트랜잭션들이 **서로 영향을 미치지 않아야 한다**는 성질
  - **주요 기법**
    - Read Uncommitted
    - Read Committed
    - Repeatable Read
    - Serializable
- **영속성(Durability)**
  - **성공이 완료된 트랜잭션의 결과**는 영속적으로 **데이터베이스에 저장되어야 하는** 성질
  - **주요 기법**
    - 회복 기법


<br>

## 트랜잭션의 상태 변화

![image](https://github.com/JeHeeYu/IT-Knowledge-Collection/assets/87363461/3fecae95-a920-4ae3-b3bc-4af81769a57f)


- **활동 상태** : **초기 상태**로, **트랜잭션이 실행 중**일 때 가지는 상태
- **부분 완료 상태** : **마지막 명령문이 실행된 후**에 가지는 상태
- **완료 상태** : **트랜잭션이 성공적으로 완료**된 후 가지는 상태
- **실패 상태** : **정상적인 실행이 더 이상 진행될 수 없을** 때 가지는 상태
- **철회 상태** : **트랜잭션이 취소**되고 데이터베이스가 **트랜잭션 시작 전 상태로 환원**된 상태

<br>

## 트랜잭션 제어
트랜잭션 제어 언어(TCL, Transaction Control Language)는 **트랜잭션의 결과를 허용하거나 취소하는 목적으로 사용되는 언어**를 지칭함

|<b>명령어</b>|<b>핵심</b>|<b>설명</b>|
|:---:|:---:|:---|
|<b>커밋(COMMIT)</b>|트랜잭션 확정|트랜잭션을 메모리에 영구적으로 저장하는 명령어|
|<b>롤백(ROLLBACK)</b>|트랜잭션 취소|트랜잭션 내역을 저장 무효화시키는 명령어|
|<b>체크포인트(CHECKPOINT)</b>|저장 시기 설정|ROLLBACK을 위한 시점을 지정하는 명령어|
