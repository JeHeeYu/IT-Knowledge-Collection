## 임계 구역(Critical Section)
뮤텍스와 세마포어를 알기 전에 임계 구역에 대해 알아야 한다.
<br>
<br>
임계 구역이란 여러 프로세스 혹은 스레드가 작업을 수행하면서 공유된 자원을 건드리게 될 수 있다.
<br>
이때 프로그램 코드 상에서 공유 자원에 접근하는 부분을 임계 구역이라고 한다.
<br>
<br>
이렇게 임계 구역에 여러 프로세스 및 스레드가 함부로 접근할 수 없도록 관리를 잘 해줘야 한다.
<br>
이를 위해 사용하는 방식에 대표적으로 뮤텍스와 세마포어가 있다.

<br>

## 뮤텍스(Mutex)
뮤텍스는 동시 프로그래밍에서 공유 불가능한 자원의 동시 사용을 피하기 위해 사용하는 알고리즘 중 하나이다.
- 임계 구역을 가진 스레드들의 실행 시간이 서로 겹치지 않도 단독으로 실행(상호 배제, Mutal Exclution) 되도록 하는 기술
- 한 프로세스에 의해 소유될 수 있는 Key를 기반으로 한 상호배제 기법 Key에 해당하는 어떤 객체(Object)가 있으며, 이 객체를 소유한 스레드/프로세스만 이 공유 자원에 접근 가능
- 다중 프로세스들의 공유 리소스에 대한 접근을 조율하기 위해 동기화 또는 락 사용
- 즉, 뮤텍스 객체를 두 스레드가 동시에 사용 불가

<p align="center">
  <img src="https://github.com/JeHeeYu/IT-Knowledge-Collection/assets/87363461/1ea22c22-6c62-4b87-9740-1dd06f0811ca" width="430" height="230">
</p>

<br>

## 세마포어(Semaphore)
세마포어는 멀티 프로그래밍 환경에서 공유된 자원에 대한 접근을 제한하는 방법이다.
- 공유 자원의 상태로 나타낼 수 있는 카운터로 생각할 때
  - 사용 중인 스레드/프로세스의 수를 공통으로 관리하는 하나의 값을 이용해 상호 배제를 달성
  - 운영체제 또는 커널의 한 지정된 저장장치 내의 값
  - 일반적으로 비교적 긴 시간을 확보하는 리소스에 대한 이용
  - 유닉스 프로그래밍에서 세마포어는 운영체제의 리소스를 경쟁적으로 사용하는 다중 프로세스에서 해동을 조정하거나 또는 동기화하는 기술
- 공유 자원에 접근할 수 있는 프로세스의 최대 허용치만큼 동시에 사용자가 접근 가능
- 각 프로세스는 세마포어의 값을 확인하고 변경 가능
- 자원을 사용하지 않는 상태가 될 때 대기하던 프로세스가 즉시 자원 사용
- 이미 다른 프로세스에 의해 사용 중이라는 사실을 알게 될 경우, 재시도전에 일정 시간 대기 필요
- 세마포어를 사용하는 프로세스는 그 값을 확인하고 자원을 사용하는 동안 그 값을 변경함으로써 다른 세마포어 사용자들이 대기하도록 해야 함
- 세마포어는 이진수를 사용 또는 추가적인 값 사용 가능

<p align="center">
  <img src="https://github.com/JeHeeYu/IT-Knowledge-Collection/assets/87363461/41079e8f-869e-4971-ac38-71cd23190004" width="430" height="230">
</p>

<br>

## 뮤텍스와 세마포어의 차이점

### 1. 동기화 대상의 개수
- 뮤텍스는 동기화 대상이 1개일 때 사용
- 세마포어는 동기화 대상이 1개 이상일 때 사용

### 2. 세마포어는 뮤텍스가 될 수 있지만 뮤텍스는 세마포어가 될 수 없음

### 3. 세마포어는 소유할 수 없으며, 뮤텍스는 소유할 수 있고 소유주가 그에 대한 책임을 짐
